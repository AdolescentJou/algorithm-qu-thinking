<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>
	<script>
		/*
			给你一个链表，删除链表的倒数第 n 个结点，并且返回链表的头结点。
			输入：head = [1,2,3,4,5], n = 2
			输出：[1,2,3,5]

			思路: 先逆序，然后删除，再反序
		*/
		var removeNthFromEnd = function (head, n) {
			var h = new ListNode();
			h.val = head[0];
			//构造链表
			for (var i = 1; i < head.length; i++) {
				var node = new ListNode();
				node.val = head[i];
				var currentNode = h;
				while (currentNode.next) {
					currentNode = currentNode.next;
				}
				currentNode.next = node;
			}
			//链表逆序
			var currentNode = h;
			var preNode = null;
			while (currentNode.next) {
				var nextNode = currentNode.next;
				currentNode.next = preNode === null ? null : preNode;
				preNode = currentNode;
				currentNode = nextNode;
			}
			currentNode.next = preNode;
			h = currentNode;
			var count = 1;
			//删除元素
			if (n == 1) {
				currentNode = currentNode.next;
			} else {
				while (currentNode.next) {
					count++;
					if (count == n) {
						currentNode.next = currentNode.next.next;
						break;
					}
					currentNode = currentNode.next;
				}
			}
			currentNode = h;
			preNode = null;
			//链表逆序
			while (currentNode.next) {
				var nextNode = currentNode.next;
				currentNode.next = preNode === null ? null : preNode;
				preNode = currentNode;
				currentNode = nextNode;
			}
			currentNode.next = preNode;
			return currentNode;
		};
		function ListNode(val, next) {
			this.val = (val === undefined ? 0 : val)
			this.next = (next === undefined ? null : next)
		}
		console.log(removeNthFromEnd([1, 2, 3, 4, 5,6,7],
			5));

	</script>
</body>

</html>